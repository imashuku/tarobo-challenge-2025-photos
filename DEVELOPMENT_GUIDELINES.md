# 開発ガイドライン

このファイルは、今後の開発でドキュメントとコードの不整合を防ぐための重要なガイドラインです。

## 🚨 重要：機能削除・変更時の必須チェックリスト

### 1. コード変更時は必ずREADMEも同時更新する

**悪い例：**
```
1. コードで機能を削除
2. コミット・プッシュ
3. READMEの更新を忘れる ❌
```

**良い例：**
```
1. コードで機能を削除
2. README.mdの該当箇所も削除
3. 同じコミットでまとめてコミット・プッシュ ✅
```

### 2. 機能削除時の確認項目

機能を削除する場合、以下のファイルを必ず確認：

- [ ] `index.html` - コード本体
- [ ] `README.md` - ドキュメント
- [ ] `CLAUDE.md` - プロジェクト説明（あれば）
- [ ] コミットメッセージに削除内容を明記

### 3. 機能追加時の確認項目

機能を追加する場合、以下を必ず実施：

- [ ] `index.html` - 実装
- [ ] `README.md` - 「特徴」セクションに追加
- [ ] `README.md` - 「更新履歴」に記載
- [ ] コミットメッセージに追加内容を明記

## 📝 過去の教訓

### 事例1：キーボード操作削除（2025-10-23）

**問題：**
- コードからキーボード操作機能を削除
- README.mdに「## キーボード操作」セクションが残ったまま
- ユーザーが混乱する可能性

**教訓：**
- 機能削除時は、必ずREADMEからも該当セクションを削除する
- 「キーボード操作」のような大きなセクションは特に注意

**再発防止策：**
- 機能削除のコミット時に、READMEも同時に更新する
- コミット前に `grep` で関連キーワードを検索して確認

## 🔍 コミット前のセルフチェック

以下のコマンドで、READMEとコードの整合性を確認：

```bash
# READMEに記載されている機能が実際に存在するか確認
# 例：「キーボード操作」がREADMEにあるか
grep -n "キーボード操作" README.md

# コードに該当機能が存在するか確認
grep -n "keydown\|keyboard" index.html
```

もしREADMEに記載があるのにコードに実装がない場合 → READMEを修正

## 📋 推奨ワークフロー

### パターンA：機能削除の場合

```bash
# 1. コードから機能を削除
vim index.html

# 2. READMEから該当セクションを削除
vim README.md

# 3. 両方を同時にコミット
git add index.html README.md
git commit -m "Remove: キーボード操作機能とドキュメントを削除"
git push
```

### パターンB：機能追加の場合

```bash
# 1. コードに機能を実装
vim index.html

# 2. READMEの「特徴」セクションに追加
vim README.md

# 3. READMEの「更新履歴」にも追加
vim README.md

# 4. 全部まとめてコミット
git add index.html README.md
git commit -m "Add: 新機能XXXを追加"
git push
```

## 🎯 今後の開発で必ず守ること

1. **コードとREADMEは常に同期させる**
   - 機能を削除したら、READMEからも削除
   - 機能を追加したら、READMEにも追加

2. **コミット前に必ず確認**
   - README.mdに存在しない機能の説明がないか
   - index.htmlに存在しない機能がREADMEに書かれていないか

3. **大きな変更の後は必ずREADME全体を見直す**
   - セクション構成が適切か
   - 古い情報が残っていないか

## ✅ チェックリストテンプレート

コミット前に以下を確認：

```
□ コードの変更内容をREADMEに反映した
□ 削除した機能がREADMEに残っていないか確認した
□ 追加した機能がREADMEに記載されているか確認した
□ 更新履歴を更新した
□ コミットメッセージに変更内容を明記した
```

---

**このガイドラインを守ることで、ドキュメントとコードの不整合を防ぎます。**

**作成日：** 2025-10-23
**理由：** キーボード操作機能削除後、READMEの更新漏れが発生したため
